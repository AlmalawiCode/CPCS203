<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 4: Writing Files with PrintWriter | CPCS203</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #d97706;
            --primary-light: #f59e0b;
            --primary-dark: #b45309;
            --secondary-color: #ea580c;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --dark-color: #1f2937;
            --light-color: #f3f4f6;
            --gray-color: #6b7280;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: var(--dark-color);
            background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        /* Navigation Breadcrumb */
        .nav-breadcrumb {
            background: linear-gradient(135deg, #92400e, #b45309);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: #fde68a;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            color: white;
        }

        .breadcrumb .separator {
            color: #d97706;
        }

        .breadcrumb .current {
            color: #fef3c7;
        }

        .lesson-nav {
            display: flex;
            gap: 10px;
        }

        .lesson-nav a {
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .lesson-nav a:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .header .course-info {
            margin-top: 15px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            display: inline-block;
        }

        /* Content */
        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-number {
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Story Box */
        .story-box {
            background: linear-gradient(135deg, #fefce8, #fef9c3);
            border-left: 5px solid var(--primary-color);
            padding: 25px 30px;
            margin: 20px 0;
            border-radius: 0 15px 15px 0;
            font-style: italic;
        }

        .story-character {
            font-weight: bold;
            color: var(--primary-dark);
        }

        /* Key Concept Box */
        .key-concept {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-left: 5px solid var(--primary-color);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .key-concept-title {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        /* Warning Box */
        .warning-box {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border-left: 5px solid var(--danger-color);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .warning-title {
            font-weight: bold;
            color: var(--danger-color);
            margin-bottom: 10px;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-left: 5px solid #2563eb;
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .info-box-title {
            font-weight: bold;
            color: #1d4ed8;
            margin-bottom: 10px;
        }

        /* Success Box */
        .success-box {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border-left: 5px solid var(--success-color);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .success-title {
            font-weight: bold;
            color: var(--success-color);
            margin-bottom: 10px;
        }

        /* Code Blocks */
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .code-block .keyword {
            color: #569cd6;
        }

        .code-block .type {
            color: #4ec9b0;
        }

        .code-block .string {
            color: #ce9178;
        }

        .code-block .comment {
            color: #6a9955;
        }

        .code-block .variable {
            color: #9cdcfe;
        }

        .code-block .number {
            color: #b5cea8;
        }

        .code-inline {
            background: #fef3c7;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            color: var(--primary-dark);
        }

        /* File Content Box */
        .file-content-box {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
        }

        .file-header {
            background: var(--dark-color);
            color: white;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .file-icon {
            font-size: 1.2rem;
        }

        .file-body {
            padding: 20px;
            font-family: 'Consolas', monospace;
            line-height: 1.8;
        }

        /* Comparison Visual */
        .comparison-visual {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .comparison-item {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 20px;
        }

        .comparison-item-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        /* Flow Diagram */
        .flow-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 30px 0;
            padding: 30px;
            background: #f8fafc;
            border-radius: 15px;
        }

        .flow-box {
            background: white;
            border: 3px solid var(--primary-color);
            border-radius: 15px;
            padding: 15px 20px;
            text-align: center;
            min-width: 120px;
        }

        .flow-box-icon {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .flow-box-title {
            font-weight: bold;
            color: var(--primary-dark);
            font-size: 0.9rem;
        }

        .flow-box-desc {
            font-size: 0.75rem;
            color: var(--gray-color);
            margin-top: 5px;
        }

        .flow-arrow {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        /* Buffer Visualization */
        .buffer-visual {
            background: linear-gradient(135deg, #fefce8, #fef9c3);
            border: 3px solid var(--primary-color);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .buffer-title {
            font-weight: bold;
            color: var(--primary-dark);
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .buffer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .buffer-box {
            background: white;
            border: 2px dashed var(--primary-color);
            border-radius: 10px;
            padding: 20px;
            min-width: 200px;
        }

        .buffer-label {
            font-size: 0.85rem;
            color: var(--gray-color);
            margin-bottom: 10px;
        }

        .buffer-content {
            font-family: monospace;
            font-size: 1rem;
            color: var(--dark-color);
            padding: 10px;
            background: #fef3c7;
            border-radius: 5px;
        }

        /* Methods Table */
        .methods-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .methods-table th {
            background: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: left;
        }

        .methods-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        .methods-table tr:last-child td {
            border-bottom: none;
        }

        .methods-table tr:hover {
            background: #fef3c7;
        }

        .methods-table code {
            background: #f3f4f6;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            color: var(--primary-dark);
        }

        /* Summary Box */
        .summary-box {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid var(--success-color);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .summary-title {
            font-weight: bold;
            color: var(--success-color);
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .summary-list {
            list-style: none;
            padding: 0;
        }

        .summary-list li {
            padding: 8px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .summary-list .check {
            color: var(--success-color);
            font-size: 1.2rem;
        }

        /* Bottom Navigation */
        .bottom-nav {
            display: flex;
            justify-content: space-between;
            padding: 30px 40px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-top: 1px solid #e2e8f0;
        }

        .bottom-nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .bottom-nav a:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(217, 119, 6, 0.3);
        }

        .bottom-nav .prev-lesson {
            background: linear-gradient(135deg, #64748b, #475569);
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: white;
            text-align: center;
            padding: 20px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .content {
                padding: 20px;
            }

            .comparison-visual {
                grid-template-columns: 1fr;
            }

            .nav-breadcrumb {
                flex-direction: column;
                text-align: center;
            }

            .bottom-nav {
                flex-direction: column;
                gap: 15px;
            }

            .flow-diagram {
                flex-direction: column;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }

            .buffer-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation Breadcrumb -->
        <nav class="nav-breadcrumb">
            <div class="breadcrumb">
                <a href="../index.html">CPCS203</a>
                <span class="separator">&#8250;</span>
                <a href="index.html">Module 3: File I/O</a>
                <span class="separator">&#8250;</span>
                <span class="current">Writing with PrintWriter</span>
            </div>
            <div class="lesson-nav">
                <a href="03-reading-scanner.html">&#8249; Previous</a>
                <a href="05-exercises.html">Next &#8250;</a>
            </div>
        </nav>

        <!-- Header -->
        <div class="header">
            <h1>Writing Files with PrintWriter</h1>
            <p class="subtitle">Saving Data Permanently to Files</p>
            <div class="course-info">
                <strong>Module 3</strong> &bull; Lesson 4 of 5
            </div>
        </div>

        <div class="content">
            <!-- Introduction -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">1</span>
                    PrintWriter: Your Magic Pen
                </h2>

                <div class="story-box">
                    <p><span class="story-character">The teacher</span> took out a magic pen called <code class="code-inline">PrintWriter</code>.</p>
                    <p>"This," they said, "lets us write text into a file, just like <code class="code-inline">System.out.print</code> writes text to the screen."</p>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Key Insight</div>
                    <p>Just as we use <code class="code-inline">System.out.println()</code> to print to the console, we use <code class="code-inline">PrintWriter</code> to "print" to a file. The methods are almost identical!</p>
                </div>

                <div class="comparison-visual">
                    <div class="comparison-item">
                        <div class="comparison-item-title">Writing to Console</div>
                        <div class="code-block" style="font-size: 0.85rem; margin: 10px 0;">
System.out.println(
    <span class="string">"Hello!"</span>
);

System.out.print(
    <span class="string">"World"</span>
);
                        </div>
                    </div>
                    <div class="comparison-item">
                        <div class="comparison-item-title">Writing to File</div>
                        <div class="code-block" style="font-size: 0.85rem; margin: 10px 0;">
<span class="variable">writer</span>.println(
    <span class="string">"Hello!"</span>
);

<span class="variable">writer</span>.print(
    <span class="string">"World"</span>
);
                        </div>
                    </div>
                </div>
            </div>

            <!-- Creating a PrintWriter -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">2</span>
                    Creating a PrintWriter
                </h2>

                <p>There are several ways to create a PrintWriter:</p>

                <div class="code-block">
<span class="keyword">import</span> java.io.File;
<span class="keyword">import</span> java.io.PrintWriter;
<span class="keyword">import</span> java.io.FileNotFoundException;

<span class="keyword">public class</span> <span class="type">WriteFile</span> {
    <span class="keyword">public static void</span> main(<span class="type">String</span>[] args) {
        <span class="keyword">try</span> {
            <span class="comment">// Method 1: Using File object</span>
            <span class="type">File</span> <span class="variable">myFile</span> = <span class="keyword">new</span> <span class="type">File</span>(<span class="string">"output.txt"</span>);
            <span class="type">PrintWriter</span> <span class="variable">writer</span> = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="variable">myFile</span>);

            <span class="comment">// Method 2: Directly with filename</span>
            <span class="type">PrintWriter</span> <span class="variable">writer2</span> = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="string">"output.txt"</span>);

            <span class="comment">// Write to the file</span>
            <span class="variable">writer</span>.println(<span class="string">"Hello, file!"</span>);

            <span class="comment">// IMPORTANT: Close the writer!</span>
            <span class="variable">writer</span>.close();

        } <span class="keyword">catch</span> (<span class="type">FileNotFoundException</span> e) {
            System.out.println(<span class="string">"Error creating file!"</span>);
        }
    }
}
                </div>

                <div class="info-box">
                    <div class="info-box-title">File Creation</div>
                    <p>If the file doesn't exist, PrintWriter will <strong>create it</strong>. If it does exist, PrintWriter will <strong>overwrite it</strong> (erasing old content)!</p>
                </div>
            </div>

            <!-- PrintWriter Methods -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">3</span>
                    PrintWriter Methods
                </h2>

                <table class="methods-table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>print(data)</code></td>
                            <td>Writes data without a newline at the end</td>
                        </tr>
                        <tr>
                            <td><code>println(data)</code></td>
                            <td>Writes data followed by a newline</td>
                        </tr>
                        <tr>
                            <td><code>printf(format, args)</code></td>
                            <td>Writes formatted output (like C's printf)</td>
                        </tr>
                        <tr>
                            <td><code>flush()</code></td>
                            <td>Forces buffered data to be written to file</td>
                        </tr>
                        <tr>
                            <td><code>close()</code></td>
                            <td>Flushes and closes the writer</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="color: var(--primary-color); margin-top: 30px;">Example: Using Different Write Methods</h3>

                <div class="code-block">
<span class="type">PrintWriter</span> <span class="variable">writer</span> = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="string">"output.txt"</span>);

<span class="comment">// println - adds newline</span>
<span class="variable">writer</span>.println(<span class="string">"Hello, file!"</span>);

<span class="comment">// print - no newline</span>
<span class="variable">writer</span>.print(<span class="string">"Writing some more text..."</span>);
<span class="variable">writer</span>.println(<span class="string">" And a new line!"</span>);

<span class="comment">// printf - formatted output</span>
<span class="type">String</span> <span class="variable">name</span> = <span class="string">"Ahmed"</span>;
<span class="keyword">int</span> <span class="variable">score</span> = <span class="number">95</span>;
<span class="variable">writer</span>.printf(
    <span class="string">"%s scored %d points%n"</span>,
    <span class="variable">name</span>,
    <span class="variable">score</span>
);

<span class="variable">writer</span>.close();
                </div>

                <div class="file-content-box">
                    <div class="file-header">
                        <span class="file-icon">&#128196;</span>
                        <span>output.txt (Result)</span>
                    </div>
                    <div class="file-body">
Hello, file!<br>
Writing some more text... And a new line!<br>
Ahmed scored 95 points
                    </div>
                </div>
            </div>

            <!-- Why Close/Flush -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">4</span>
                    Why Must We Close or Flush?
                </h2>

                <div class="story-box">
                    <p><span class="story-character">The teacher shared this secret:</span> "When you write data to a file, Java might keep some of that data in a temporary area called a <strong>buffer</strong>. This makes writing more efficient."</p>
                    <p>"But if you never say 'write everything to the file now' (by closing or flushing), the data could stay in that buffer and <strong>never appear in the actual file</strong>!"</p>
                </div>

                <div class="buffer-visual">
                    <div class="buffer-title">Understanding the Buffer</div>
                    <div class="buffer-container">
                        <div class="buffer-box">
                            <div class="buffer-label">Your Code Writes:</div>
                            <div class="buffer-content">writer.println("Hello")</div>
                        </div>
                        <div class="flow-arrow">&#8594;</div>
                        <div class="buffer-box" style="border-color: var(--warning-color);">
                            <div class="buffer-label">Buffer (Memory):</div>
                            <div class="buffer-content" style="background: #fef3c7;">"Hello\n"</div>
                        </div>
                        <div class="flow-arrow">&#8594;</div>
                        <div class="buffer-box" style="border-color: var(--success-color);">
                            <div class="buffer-label">File (Disk):</div>
                            <div class="buffer-content" style="background: #d1fae5;">After close()/flush()</div>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="warning-title">Common Mistake!</div>
                    <p>If you forget to call <code class="code-inline">close()</code>, your file might be <strong>empty</strong> or <strong>incomplete</strong>! The data is sitting in the buffer, waiting to be written.</p>
                </div>

                <div class="flow-diagram">
                    <div class="flow-box">
                        <div class="flow-box-icon">&#128187;</div>
                        <div class="flow-box-title">Java Program</div>
                        <div class="flow-box-desc">writer.println()</div>
                    </div>
                    <div class="flow-arrow">&#8594;</div>
                    <div class="flow-box" style="background: #fef3c7;">
                        <div class="flow-box-icon">&#128230;</div>
                        <div class="flow-box-title">Buffer</div>
                        <div class="flow-box-desc">Temporary storage</div>
                    </div>
                    <div class="flow-arrow">&#8594;</div>
                    <div class="flow-box">
                        <div class="flow-box-icon">&#9881;</div>
                        <div class="flow-box-title">OS Kernel</div>
                        <div class="flow-box-desc">System calls</div>
                    </div>
                    <div class="flow-arrow">&#8594;</div>
                    <div class="flow-box" style="border-color: var(--success-color);">
                        <div class="flow-box-icon">&#128190;</div>
                        <div class="flow-box-title">Disk</div>
                        <div class="flow-box-desc">Permanent storage</div>
                    </div>
                </div>

                <div class="info-box">
                    <div class="info-box-title">Behind the Scenes</div>
                    <p>When a Java program wants to write data to the hard disk, it eventually calls <strong>system calls</strong> provided by the operating system. Java's I/O classes talk to the JVM, which invokes the OS's file I/O system calls (like <code class="code-inline">write()</code> on Linux or <code class="code-inline">WriteFile()</code> on Windows). These system calls pass data to the OS kernel, which interacts with the file system and disk driver.</p>
                    <p style="margin-top: 10px;"><em>Note: The deep details will be covered in Operating Systems course.</em></p>
                </div>
            </div>

            <!-- Complete Example -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">5</span>
                    Complete Example: Student Grade Report
                </h2>

                <p>Let's write a program that creates a grade report file:</p>

                <div class="code-block">
<span class="keyword">import</span> java.io.PrintWriter;
<span class="keyword">import</span> java.io.FileNotFoundException;

<span class="keyword">public class</span> <span class="type">GradeReport</span> {
    <span class="keyword">public static void</span> main(<span class="type">String</span>[] args) {
        <span class="comment">// Student data</span>
        <span class="type">String</span>[] <span class="variable">names</span> = {<span class="string">"Ahmed"</span>, <span class="string">"Sara"</span>, <span class="string">"Mohammed"</span>};
        <span class="keyword">int</span>[] <span class="variable">scores</span> = {<span class="number">85</span>, <span class="number">92</span>, <span class="number">78</span>};

        <span class="keyword">try</span> {
            <span class="type">PrintWriter</span> <span class="variable">writer</span> = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="string">"report.txt"</span>);

            <span class="comment">// Write header</span>
            <span class="variable">writer</span>.println(<span class="string">"=== Grade Report ==="</span>);
            <span class="variable">writer</span>.println();

            <span class="comment">// Write each student</span>
            <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="variable">names</span>.length; <span class="variable">i</span>++) {
                <span class="variable">writer</span>.printf(
                    <span class="string">"Student: %-10s Score: %d%n"</span>,
                    <span class="variable">names</span>[<span class="variable">i</span>],
                    <span class="variable">scores</span>[<span class="variable">i</span>]
                );
            }

            <span class="comment">// Calculate and write average</span>
            <span class="keyword">double</span> <span class="variable">sum</span> = <span class="number">0</span>;
            <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">score</span> : <span class="variable">scores</span>) {
                <span class="variable">sum</span> += <span class="variable">score</span>;
            }
            <span class="keyword">double</span> <span class="variable">average</span> = <span class="variable">sum</span> / <span class="variable">scores</span>.length;

            <span class="variable">writer</span>.println();
            <span class="variable">writer</span>.printf(
                <span class="string">"Class Average: %.2f%n"</span>,
                <span class="variable">average</span>
            );
            <span class="variable">writer</span>.println(<span class="string">"===================="</span>);

            <span class="comment">// IMPORTANT: Close the writer!</span>
            <span class="variable">writer</span>.close();

            System.out.println(<span class="string">"Report saved to report.txt"</span>);

        } <span class="keyword">catch</span> (<span class="type">FileNotFoundException</span> e) {
            System.out.println(<span class="string">"Error creating report file!"</span>);
        }
    }
}
                </div>

                <div class="file-content-box">
                    <div class="file-header">
                        <span class="file-icon">&#128196;</span>
                        <span>report.txt (Output File)</span>
                    </div>
                    <div class="file-body">
=== Grade Report ===<br><br>
Student: Ahmed      Score: 85<br>
Student: Sara       Score: 92<br>
Student: Mohammed   Score: 78<br><br>
Class Average: 85.00<br>
====================
                    </div>
                </div>
            </div>

            <!-- Reading and Writing Together -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">6</span>
                    Reading and Writing Together
                </h2>

                <p>Often, you'll need to read from one file and write to another:</p>

                <div class="code-block">
<span class="keyword">import</span> java.io.File;
<span class="keyword">import</span> java.io.PrintWriter;
<span class="keyword">import</span> java.io.FileNotFoundException;
<span class="keyword">import</span> java.util.Scanner;

<span class="keyword">public class</span> <span class="type">CopyAndModify</span> {
    <span class="keyword">public static void</span> main(<span class="type">String</span>[] args) {
        <span class="keyword">try</span> {
            <span class="comment">// Open input file for reading</span>
            <span class="type">Scanner</span> <span class="variable">reader</span> = <span class="keyword">new</span> <span class="type">Scanner</span>(
                <span class="keyword">new</span> <span class="type">File</span>(<span class="string">"input.txt"</span>)
            );

            <span class="comment">// Open output file for writing</span>
            <span class="type">PrintWriter</span> <span class="variable">writer</span> = <span class="keyword">new</span> <span class="type">PrintWriter</span>(
                <span class="string">"output.txt"</span>
            );

            <span class="keyword">int</span> <span class="variable">lineNum</span> = <span class="number">1</span>;

            <span class="keyword">while</span> (<span class="variable">reader</span>.hasNextLine()) {
                <span class="type">String</span> <span class="variable">line</span> = <span class="variable">reader</span>.nextLine();

                <span class="comment">// Add line numbers to each line</span>
                <span class="variable">writer</span>.printf(
                    <span class="string">"%3d: %s%n"</span>,
                    <span class="variable">lineNum</span>,
                    <span class="variable">line</span>
                );

                <span class="variable">lineNum</span>++;
            }

            <span class="comment">// Close both!</span>
            <span class="variable">reader</span>.close();
            <span class="variable">writer</span>.close();

            System.out.println(<span class="string">"File processed successfully!"</span>);

        } <span class="keyword">catch</span> (<span class="type">FileNotFoundException</span> e) {
            System.out.println(
                <span class="string">"Error: "</span> + e.getMessage()
            );
        }
    }
}
                </div>

                <div class="success-box">
                    <div class="success-title">Best Practice</div>
                    <p>Always close your readers and writers when done. A good pattern is to close them in the <strong>reverse order</strong> of opening (close writer first, then reader).</p>
                </div>
            </div>

            <!-- Summary -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">7</span>
                    Summary
                </h2>

                <div class="summary-box">
                    <div class="summary-title">Key Takeaways</div>
                    <ul class="summary-list">
                        <li>
                            <span class="check">&#10003;</span>
                            <span><strong>PrintWriter</strong> writes text to files like System.out writes to console.</span>
                        </li>
                        <li>
                            <span class="check">&#10003;</span>
                            <span>Use <strong>print()</strong>, <strong>println()</strong>, and <strong>printf()</strong> to write data.</span>
                        </li>
                        <li>
                            <span class="check">&#10003;</span>
                            <span>Data is <strong>buffered</strong> - stored temporarily before writing to disk.</span>
                        </li>
                        <li>
                            <span class="check">&#10003;</span>
                            <span><strong>Always close()</strong> the writer to ensure data is saved!</span>
                        </li>
                        <li>
                            <span class="check">&#10003;</span>
                            <span>PrintWriter creates new files or <strong>overwrites</strong> existing ones.</span>
                        </li>
                    </ul>
                </div>

                <div class="story-box">
                    <p><span class="story-character">And so, the student learned:</span></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Files store data even when programs stop running</li>
                        <li>The File class lets us explore file properties</li>
                        <li>Scanner reads from files like it reads from keyboard</li>
                        <li>PrintWriter writes to files like System.out writes to screen</li>
                        <li><strong>Always close your writers to save data correctly!</strong></li>
                    </ul>
                    <p style="margin-top: 15px; text-align: center;"><strong>End of the Tale!</strong></p>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="03-reading-scanner.html" class="prev-lesson">&#8249; Previous: Reading with Scanner</a>
            <a href="05-exercises.html">Next: Exercises &#8250;</a>
        </nav>

        <!-- Footer -->
        <div class="footer">
            <p><strong>CPCS203</strong> - Object-Oriented Programming</p>
            <p>Module 3: File I/O &bull; Lesson 4</p>
            <p>Prepared by Dr. Almalawi</p>
        </div>
    </div>
</body>
</html>

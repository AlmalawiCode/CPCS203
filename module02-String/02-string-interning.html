<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>String Interning & String Pool | CPCS203</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #059669;
            --primary-light: #10b981;
            --primary-dark: #047857;
            --secondary-color: #0d9488;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --dark-color: #1f2937;
            --light-color: #f3f4f6;
            --gray-color: #6b7280;
            --string-color: #8b5cf6;
            --pool-color: #0ea5e9;
            --heap-color: #f97316;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: var(--dark-color);
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        /* Navigation Breadcrumb */
        .nav-breadcrumb {
            background: linear-gradient(135deg, #065f46, #047857);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: #a7f3d0;
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover {
            color: white;
        }

        .breadcrumb .separator {
            color: #6ee7b7;
        }

        .breadcrumb .current {
            color: #fbbf24;
        }

        .lesson-nav {
            display: flex;
            gap: 10px;
        }

        .lesson-nav a {
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .lesson-nav a:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .header .course-info {
            margin-top: 15px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            display: inline-block;
        }

        /* Content */
        .content {
            padding: 40px;
        }

        /* Sections */
        .section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-number {
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Key Concept Box */
        .key-concept {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-left: 5px solid var(--warning-color);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .key-concept-title {
            font-weight: bold;
            color: var(--warning-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        /* Important Box */
        .important-box {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border-left: 5px solid var(--danger-color);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .important-box-title {
            font-weight: bold;
            color: var(--danger-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-left: 5px solid #2563eb;
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        /* Success Box */
        .success-box {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border-left: 5px solid var(--success-color);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        /* Arabic Box */
        .arabic-box {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid var(--primary-color);
            padding: 25px;
            margin: 20px 0;
            border-radius: 15px;
            text-align: center;
        }

        .arabic-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .arabic-text {
            font-size: 1.5rem;
            direction: rtl;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--dark-color);
            margin: 15px 0;
        }

        .arabic-example {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            direction: rtl;
        }

        /* Code Blocks */
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .code-block .keyword {
            color: #569cd6;
        }

        .code-block .type {
            color: #4ec9b0;
        }

        .code-block .string {
            color: #ce9178;
        }

        .code-block .number {
            color: #b5cea8;
        }

        .code-block .comment {
            color: #6a9955;
        }

        .code-block .variable {
            color: #9cdcfe;
        }

        .code-inline {
            background: #e5e7eb;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            color: var(--danger-color);
        }

        /* Memory Visualization */
        .memory-visualization {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
        }

        .memory-title {
            text-align: center;
            font-weight: bold;
            color: var(--dark-color);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .memory-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 30px;
            flex-wrap: wrap;
        }

        .memory-section {
            text-align: center;
        }

        .memory-section-title {
            background: var(--dark-color);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .memory-section-title.pool {
            background: linear-gradient(135deg, var(--pool-color), #0284c7);
        }

        .memory-section-title.heap {
            background: linear-gradient(135deg, var(--heap-color), #ea580c);
        }

        /* Variable Box */
        .variable-box {
            border: 3px solid var(--primary-color);
            border-radius: 10px;
            padding: 15px 25px;
            background: #dbeafe;
            min-width: 100px;
            margin: 10px;
        }

        .variable-name {
            font-weight: bold;
            color: #2563eb;
            font-size: 1.1rem;
        }

        .variable-value {
            margin-top: 8px;
            padding: 8px;
            background: white;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9rem;
        }

        /* String Pool Visualization */
        .string-pool-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            align-items: flex-start;
        }

        .stack-section {
            text-align: center;
        }

        .heap-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .pool-area {
            background: linear-gradient(135deg, #e0f2fe, #bae6fd);
            border: 3px solid var(--pool-color);
            border-radius: 15px;
            padding: 20px;
            min-width: 250px;
        }

        .pool-title {
            color: var(--pool-color);
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .pool-string {
            background: white;
            border: 2px solid var(--pool-color);
            padding: 12px 20px;
            border-radius: 8px;
            margin: 8px 0;
            font-family: monospace;
            text-align: center;
        }

        .pool-string .address {
            font-size: 0.75rem;
            color: #6b7280;
        }

        .heap-area {
            background: linear-gradient(135deg, #ffedd5, #fed7aa);
            border: 3px solid var(--heap-color);
            border-radius: 15px;
            padding: 20px;
            min-width: 250px;
        }

        .heap-title {
            color: var(--heap-color);
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .heap-string {
            background: white;
            border: 2px solid var(--heap-color);
            padding: 12px 20px;
            border-radius: 8px;
            margin: 8px 0;
            font-family: monospace;
            text-align: center;
        }

        .heap-string .address {
            font-size: 0.75rem;
            color: #6b7280;
        }

        /* Arrow indicators */
        .arrow-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 30px;
        }

        .arrow-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .arrow {
            width: 60px;
            height: 3px;
            background: var(--pool-color);
            position: relative;
        }

        .arrow::after {
            content: '';
            position: absolute;
            right: -8px;
            top: -6px;
            border: 8px solid transparent;
            border-left: 10px solid var(--pool-color);
        }

        .arrow.heap-arrow {
            background: var(--heap-color);
        }

        .arrow.heap-arrow::after {
            border-left-color: var(--heap-color);
        }

        /* Comparison Visual */
        .comparison-visual {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .comparison-card {
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .comparison-card.literal {
            background: linear-gradient(135deg, #e0f2fe, #bae6fd);
            border: 2px solid var(--pool-color);
        }

        .comparison-card.new-string {
            background: linear-gradient(135deg, #ffedd5, #fed7aa);
            border: 2px solid var(--heap-color);
        }

        .comparison-title {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .comparison-card.literal .comparison-title {
            color: var(--pool-color);
        }

        .comparison-card.new-string .comparison-title {
            color: var(--heap-color);
        }

        /* Real World Example */
        .real-world-example {
            background: linear-gradient(135deg, #fdf4ff, #f5d0fe);
            border: 2px solid #a855f7;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .example-title {
            color: #a855f7;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .name-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }

        .name-tag {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .name-tag.repeated {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
        }

        .name-tag.unique {
            background: #e5e7eb;
            color: var(--dark-color);
        }

        /* Memory Comparison */
        .memory-compare {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .memory-scenario {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .memory-scenario.bad {
            border: 2px solid var(--danger-color);
        }

        .memory-scenario.good {
            border: 2px solid var(--success-color);
        }

        .scenario-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .memory-scenario.bad .scenario-title {
            color: var(--danger-color);
        }

        .memory-scenario.good .scenario-title {
            color: var(--success-color);
        }

        .memory-blocks {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: center;
            margin: 15px 0;
        }

        .memory-block {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: white;
        }

        .memory-block.used {
            background: var(--danger-color);
        }

        .memory-block.saved {
            background: var(--success-color);
        }

        .memory-block.shared {
            background: var(--pool-color);
        }

        /* Lists */
        ul, ol {
            margin: 15px 0 15px 25px;
        }

        li {
            margin: 8px 0;
        }

        /* Bottom Navigation */
        .bottom-nav {
            display: flex;
            justify-content: space-between;
            padding: 30px 40px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-top: 1px solid #e2e8f0;
        }

        .bottom-nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .bottom-nav a:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(5, 150, 105, 0.3);
        }

        .bottom-nav .prev-lesson {
            background: linear-gradient(135deg, #64748b, #475569);
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: white;
            text-align: center;
            padding: 20px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .content {
                padding: 20px;
            }

            .comparison-visual,
            .memory-compare {
                grid-template-columns: 1fr;
            }

            .string-pool-container {
                flex-direction: column;
                align-items: center;
            }

            .bottom-nav {
                flex-direction: column;
                gap: 15px;
            }

            .nav-breadcrumb {
                flex-direction: column;
                text-align: center;
            }
        }

        .address-value {
            color: var(--string-color);
            font-family: monospace;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation Breadcrumb -->
        <nav class="nav-breadcrumb">
            <div class="breadcrumb">
                <a href="../index.html">CPCS203</a>
                <span class="separator">›</span>
                <a href="index.html">Module 2: Strings</a>
                <span class="separator">›</span>
                <span class="current">String Interning</span>
            </div>
            <div class="lesson-nav">
                <a href="01-string-basics.html">‹ Previous</a>
                <a href="03-string-methods.html">Next: String Methods ›</a>
            </div>
        </nav>

        <!-- Header -->
        <div class="header">
            <h1>String Interning & String Pool</h1>
            <p class="subtitle">How Java Saves Memory by Reusing String Objects</p>
            <div class="course-info">
                <strong>CPCS203</strong> - Module 2 | Lesson 2
            </div>
        </div>

        <div class="content">
            <!-- Section 1: Understanding "Intern" -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">1</span>
                    Understanding the Word "Intern"
                </h2>

                <p>Before we understand "String Interning" in Java, let's first understand the meaning of the word <strong>"intern"</strong>.</p>

                <div class="arabic-box">
                    <div class="arabic-title">Understanding "Intern" for Arabic Speakers</div>

                    <p style="margin-bottom: 15px;">The English word <strong>"intern"</strong> has several meanings. In the context of programming:</p>

                    <div class="arabic-example">
                        <p><strong>To intern</strong> = <span class="arabic-text">يَحتَجِز / يَحجِز في مكان مُخصَّص</span></p>
                    </div>

                    <p style="margin: 15px 0;">Think of it like this:</p>

                    <div class="arabic-example">
                        <p><strong>"To intern a person for investigation"</strong></p>
                        <p class="arabic-text">احتجاز شخص للتحقيق</p>
                        <p style="margin-top: 10px; font-size: 0.9rem; color: #6b7280;">The person is kept in a special, designated place.</p>
                    </div>

                    <p style="margin-top: 15px;">Similarly, <strong>String Interning</strong> means:</p>
                    <div class="arabic-example">
                        <p class="arabic-text">حَجز النصوص في مكان مُخصَّص (String Pool) لإعادة استخدامها</p>
                        <p style="margin-top: 10px;"><em>Reserving strings in a designated place (String Pool) for reuse</em></p>
                    </div>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">String Interning Definition</div>
                    <p><strong>String Interning</strong> is a method of storing only <strong>one copy</strong> of each distinct String value in a special memory area called the <strong>String Pool</strong>.</p>
                    <p style="margin-top: 10px;">This helps <strong>save memory</strong> when the same String value appears multiple times in a program.</p>
                </div>
            </div>

            <!-- Section 2: What is the String Pool? -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">2</span>
                    What is the String Pool?
                </h2>

                <p>The <strong>String Pool</strong> (also called String Constant Pool or String Intern Pool) is a special area in the <strong>Heap memory</strong> where Java stores String literals.</p>

                <div class="memory-visualization">
                    <div class="memory-title">Memory Structure: String Pool in the Heap</div>
                    <div style="display: flex; justify-content: center; gap: 40px; flex-wrap: wrap;">
                        <div style="text-align: center;">
                            <div style="background: #64748b; color: white; padding: 10px 20px; border-radius: 10px 10px 0 0;">Heap Memory</div>
                            <div style="border: 3px solid #64748b; border-top: none; padding: 20px; border-radius: 0 0 10px 10px; min-width: 300px;">
                                <div class="pool-area" style="margin-bottom: 15px;">
                                    <div class="pool-title">String Pool</div>
                                    <p style="font-size: 0.85rem; color: #6b7280;">Special area for interned Strings</p>
                                    <div class="pool-string">"Java"</div>
                                    <div class="pool-string">"Hello"</div>
                                </div>
                                <div class="heap-area">
                                    <div class="heap-title">Regular Heap Area</div>
                                    <p style="font-size: 0.85rem; color: #6b7280;">Objects created with 'new'</p>
                                    <div class="heap-string">new String("Java")</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <p><strong>Key Points about the String Pool:</strong></p>
                    <ul>
                        <li>It is a special <strong>partition</strong> within the Heap memory</li>
                        <li>It acts as a <strong>repository</strong> for String literals</li>
                        <li>Each unique String value is stored <strong>only once</strong></li>
                        <li>Multiple variables can <strong>share</strong> the same String object</li>
                    </ul>
                </div>
            </div>

            <!-- Section 3: Real-World Example -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">3</span>
                    Real-World Example: Saudi Population Database
                </h2>

                <p>Let's imagine we're building a database to store names of the Saudi population. Consider this scenario:</p>

                <div class="real-world-example">
                    <div class="example-title">Scenario: 30% of Names are "Abdul Mohsin"</div>

                    <p style="text-align: center; margin-bottom: 15px;">Imagine we have <strong>1,000,000</strong> people and <strong>300,000</strong> of them are named "Abdul Mohsin"!</p>

                    <div class="name-grid">
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag unique">Mohammed</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag unique">Fahad</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag unique">Khalid</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag unique">Ahmed</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                        <span class="name-tag repeated">Abdul Mohsin</span>
                    </div>

                    <p style="text-align: center; margin-top: 15px;"><strong>"Abdul Mohsin"</strong> = 12 characters = approximately <strong>24 bytes</strong> per String</p>
                </div>

                <div class="memory-compare">
                    <div class="memory-scenario bad">
                        <div class="scenario-title">Without Interning</div>
                        <p>300,000 separate String objects</p>
                        <div class="memory-blocks">
                            <div class="memory-block used">1</div>
                            <div class="memory-block used">2</div>
                            <div class="memory-block used">3</div>
                            <div class="memory-block used">...</div>
                            <div class="memory-block used">...</div>
                            <div class="memory-block used">...</div>
                        </div>
                        <p style="color: var(--danger-color); font-weight: bold; margin-top: 15px;">
                            Memory Used: ~7.2 MB
                        </p>
                        <p style="font-size: 0.85rem; color: #6b7280;">300,000 × 24 bytes</p>
                    </div>
                    <div class="memory-scenario good">
                        <div class="scenario-title">With Interning</div>
                        <p>Only 1 String object shared by all!</p>
                        <div class="memory-blocks">
                            <div class="memory-block shared">1</div>
                            <div style="font-size: 1.5rem; padding: 0 10px;">← All 300,000 share this!</div>
                        </div>
                        <p style="color: var(--success-color); font-weight: bold; margin-top: 15px;">
                            Memory Used: ~24 bytes
                        </p>
                        <p style="font-size: 0.85rem; color: #6b7280;">Just 1 × 24 bytes</p>
                    </div>
                </div>

                <div class="success-box">
                    <p><strong>Memory Saved: Over 7 MB!</strong></p>
                    <p>This is why String interning is so important for large-scale applications!</p>
                </div>
            </div>

            <!-- Section 4: Literal vs new String() -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">4</span>
                    String Literal vs new String()
                </h2>

                <p>There are <strong>two ways</strong> to create a String in Java. The difference is <strong>critical</strong> for understanding String interning!</p>

                <div class="comparison-visual">
                    <div class="comparison-card literal">
                        <div class="comparison-title">String Literal (Interned)</div>
                        <div class="code-block" style="text-align: left; margin: 15px 0;">
<span class="type">String</span> <span class="variable">s1</span> = <span class="string">"Java"</span>;
<span class="type">String</span> <span class="variable">s2</span> = <span class="string">"Java"</span>;
                        </div>
                        <ul style="text-align: left; font-size: 0.9rem;">
                            <li><strong>Automatically</strong> stored in String Pool</li>
                            <li>If same value exists, <strong>reuses</strong> existing object</li>
                            <li>s1 and s2 point to <strong>same object</strong></li>
                            <li><strong>Memory efficient</strong></li>
                        </ul>
                    </div>
                    <div class="comparison-card new-string">
                        <div class="comparison-title">new String() (Not Interned)</div>
                        <div class="code-block" style="text-align: left; margin: 15px 0;">
<span class="type">String</span> <span class="variable">s3</span> = <span class="keyword">new</span> <span class="type">String</span>(<span class="string">"Java"</span>);
<span class="type">String</span> <span class="variable">s4</span> = <span class="keyword">new</span> <span class="type">String</span>(<span class="string">"Java"</span>);
                        </div>
                        <ul style="text-align: left; font-size: 0.9rem;">
                            <li><strong>Always</strong> creates new object in Heap</li>
                            <li><strong>Never</strong> reuses existing objects</li>
                            <li>s3 and s4 are <strong>different objects</strong></li>
                            <li><strong>Wastes memory</strong> if same value</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-visualization">
                    <div class="memory-title">Visual Comparison: Literal vs new String()</div>
                    <div class="string-pool-container">
                        <!-- Stack Section -->
                        <div class="stack-section">
                            <div class="memory-section-title">Stack Memory</div>
                            <div class="variable-box" style="border-color: var(--pool-color); background: #e0f2fe;">
                                <div class="variable-name" style="color: var(--pool-color);">s1</div>
                                <div class="variable-value"><span class="address-value">0x100</span></div>
                            </div>
                            <div class="variable-box" style="border-color: var(--pool-color); background: #e0f2fe;">
                                <div class="variable-name" style="color: var(--pool-color);">s2</div>
                                <div class="variable-value"><span class="address-value">0x100</span></div>
                            </div>
                            <div class="variable-box" style="border-color: var(--heap-color); background: #ffedd5;">
                                <div class="variable-name" style="color: var(--heap-color);">s3</div>
                                <div class="variable-value"><span class="address-value">0x200</span></div>
                            </div>
                            <div class="variable-box" style="border-color: var(--heap-color); background: #ffedd5;">
                                <div class="variable-name" style="color: var(--heap-color);">s4</div>
                                <div class="variable-value"><span class="address-value">0x300</span></div>
                            </div>
                        </div>

                        <!-- Heap Section -->
                        <div class="heap-section">
                            <div class="pool-area">
                                <div class="pool-title">String Pool (in Heap)</div>
                                <div class="pool-string">
                                    <div class="address">0x100</div>
                                    <strong>"Java"</strong>
                                    <div style="font-size: 0.75rem; color: var(--pool-color);">s1 and s2 share this!</div>
                                </div>
                            </div>
                            <div class="heap-area">
                                <div class="heap-title">Regular Heap</div>
                                <div class="heap-string">
                                    <div class="address">0x200</div>
                                    <strong>"Java"</strong>
                                    <div style="font-size: 0.75rem; color: var(--heap-color);">s3's object</div>
                                </div>
                                <div class="heap-string">
                                    <div class="address">0x300</div>
                                    <strong>"Java"</strong>
                                    <div style="font-size: 0.75rem; color: var(--heap-color);">s4's object</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="important-box">
                    <div class="important-box-title">Notice the Difference!</div>
                    <ul>
                        <li><code class="code-inline">s1</code> and <code class="code-inline">s2</code> both point to address <strong>0x100</strong> (same object!)</li>
                        <li><code class="code-inline">s3</code> points to address <strong>0x200</strong> (new object)</li>
                        <li><code class="code-inline">s4</code> points to address <strong>0x300</strong> (another new object)</li>
                        <li>Using <code class="code-inline">new String()</code> creates 2 extra objects with the same content!</li>
                    </ul>
                </div>
            </div>

            <!-- Section 5: Proving with Code -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">5</span>
                    Proving String Interning with Code
                </h2>

                <p>Let's write code to prove that literal Strings share the same object while <code class="code-inline">new String()</code> creates separate objects.</p>

                <div class="code-block">
<span class="keyword">public class</span> <span class="type">StringInterningDemo</span> {
    <span class="keyword">public static void</span> <span class="variable">main</span>(<span class="type">String</span>[] <span class="variable">args</span>) {

        <span class="comment">// Using String literals (interned)</span>
        <span class="type">String</span> <span class="variable">s1</span> = <span class="string">"Java"</span>;
        <span class="type">String</span> <span class="variable">s2</span> = <span class="string">"Java"</span>;

        <span class="comment">// Using new String() (NOT interned)</span>
        <span class="type">String</span> <span class="variable">s3</span> = <span class="keyword">new</span> <span class="type">String</span>(<span class="string">"Java"</span>);

        <span class="comment">// Compare using == (compares addresses/references)</span>
        System.out.println(<span class="string">"s1 == s2: "</span> + (<span class="variable">s1</span> == <span class="variable">s2</span>));  <span class="comment">// true</span>
        System.out.println(<span class="string">"s1 == s3: "</span> + (<span class="variable">s1</span> == <span class="variable">s3</span>));  <span class="comment">// false</span>
        System.out.println(<span class="string">"s2 == s3: "</span> + (<span class="variable">s2</span> == <span class="variable">s3</span>));  <span class="comment">// false</span>

        <span class="comment">// Compare using .equals() (compares content)</span>
        System.out.println(<span class="string">"s1.equals(s3): "</span> + <span class="variable">s1</span>.equals(<span class="variable">s3</span>));  <span class="comment">// true</span>
    }
}
</div>

                <div class="success-box">
                    <p><strong>Output:</strong></p>
<pre style="font-family: monospace; margin: 10px 0;">
s1 == s2: true
s1 == s3: false
s2 == s3: false
s1.equals(s3): true</pre>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Understanding the Results</div>
                    <table style="width: 100%; margin-top: 10px; border-collapse: collapse;">
                        <tr style="background: #f3f4f6;">
                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--warning-color);">Comparison</th>
                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--warning-color);">Result</th>
                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid var(--warning-color);">Explanation</th>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;"><code class="code-inline">s1 == s2</code></td>
                            <td style="padding: 10px; border-bottom: 1px solid #e5e7eb; color: var(--success-color); font-weight: bold;">true</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">Same address (both from String Pool)</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;"><code class="code-inline">s1 == s3</code></td>
                            <td style="padding: 10px; border-bottom: 1px solid #e5e7eb; color: var(--danger-color); font-weight: bold;">false</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e5e7eb;">Different addresses (s3 is in regular Heap)</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;"><code class="code-inline">s1.equals(s3)</code></td>
                            <td style="padding: 10px; color: var(--success-color); font-weight: bold;">true</td>
                            <td style="padding: 10px;">Same content (both contain "Java")</td>
                        </tr>
                    </table>
                </div>

                <div class="important-box">
                    <div class="important-box-title">Critical Difference: == vs .equals()</div>
                    <ul>
                        <li><code class="code-inline">==</code> compares <strong>addresses</strong> (are they the same object?)</li>
                        <li><code class="code-inline">.equals()</code> compares <strong>content</strong> (do they have the same characters?)</li>
                        <li>For Strings, <strong>always use <code class="code-inline">.equals()</code></strong> to compare content!</li>
                    </ul>
                </div>
            </div>

            <!-- Section 6: The intern() Method -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">6</span>
                    The intern() Method
                </h2>

                <p>You can manually intern a String using the <code class="code-inline">intern()</code> method:</p>

                <div class="code-block">
<span class="type">String</span> <span class="variable">s1</span> = <span class="string">"Java"</span>;
<span class="type">String</span> <span class="variable">s3</span> = <span class="keyword">new</span> <span class="type">String</span>(<span class="string">"Java"</span>);
<span class="type">String</span> <span class="variable">s3Interned</span> = <span class="variable">s3</span>.intern();  <span class="comment">// Get interned version</span>

System.out.println(<span class="variable">s1</span> == <span class="variable">s3</span>);          <span class="comment">// false</span>
System.out.println(<span class="variable">s1</span> == <span class="variable">s3Interned</span>);  <span class="comment">// true!</span>
                </div>

                <div class="info-box">
                    <p><strong>What does intern() do?</strong></p>
                    <ol>
                        <li>Checks if an equal String already exists in the String Pool</li>
                        <li>If yes, returns a reference to the pooled String</li>
                        <li>If no, adds this String to the pool and returns its reference</li>
                    </ol>
                </div>
            </div>

            <!-- Section 7: Summary -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-number">7</span>
                    Summary
                </h2>

                <div class="key-concept">
                    <div class="key-concept-title">Key Takeaways</div>
                    <ol>
                        <li><strong>String Pool</strong> is a special memory area in the Heap for storing unique Strings</li>
                        <li><strong>String literals</strong> (e.g., <code class="code-inline">"Java"</code>) are <strong>automatically interned</strong></li>
                        <li><strong>new String()</strong> always creates a <strong>new object</strong> in regular Heap</li>
                        <li><strong>Interning saves memory</strong> by reusing String objects</li>
                        <li>Use <code class="code-inline">==</code> to compare addresses, <code class="code-inline">.equals()</code> to compare content</li>
                        <li>Use <code class="code-inline">.intern()</code> to manually add a String to the pool</li>
                    </ol>
                </div>

                <div class="info-box">
                    <p><strong>What's Next?</strong></p>
                    <p>In the next lesson, we'll explore essential <strong>String methods</strong> for manipulation, comparison, searching, and conversion!</p>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="01-string-basics.html" class="prev-lesson">‹ Previous: String Basics</a>
            <a href="03-string-methods.html">Next: String Methods ›</a>
        </nav>

        <!-- Footer -->
        <div class="footer">
            <p><strong>CPCS203</strong> - Object-Oriented Programming</p>
            <p>Module 2: Strings | Lesson 2: String Interning & Pool</p>
            <p>Prepared by Dr. Almalawi</p>
        </div>
    </div>
</body>
</html>

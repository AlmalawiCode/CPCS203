<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 1 Exercises: 2D and 3D Arrays | CPCS203</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #7c3aed;
            --secondary-color: #2563eb;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --dark-color: #1f2937;
            --light-color: #f3f4f6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: var(--dark-color);
            background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color), #5b21b6);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .score-display {
            margin-top: 20px;
            padding: 15px 30px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            display: inline-block;
        }

        .score-display span {
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* Content */
        .content {
            padding: 40px;
        }

        /* Instructions */
        .instructions {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-left: 5px solid var(--warning-color);
            padding: 20px 25px;
            margin-bottom: 30px;
            border-radius: 0 10px 10px 0;
        }

        .instructions h3 {
            color: var(--warning-color);
            margin-bottom: 10px;
        }

        /* Question Card */
        .question-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .question-card.correct {
            border-color: var(--success-color);
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
        }

        .question-card.incorrect {
            border-color: var(--danger-color);
            background: linear-gradient(135deg, #fee2e2, #fecaca);
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, var(--primary-color), #5b21b6);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .question-type {
            background: var(--primary-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.1rem;
            color: var(--dark-color);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        /* Code Block - IDE Style */
        .code-block {
            background: #1e1e1e;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .code-header {
            background: #323233;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .code-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .code-dot.red { background: #ff5f56; }
        .code-dot.yellow { background: #ffbd2e; }
        .code-dot.green { background: #27ca40; }

        .code-title {
            color: #9ca3af;
            font-size: 0.85rem;
            margin-left: 10px;
        }

        .code-content {
            padding: 20px;
            overflow-x: auto;
        }

        .code-content pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #d4d4d4;
        }

        .code-content .line {
            display: block;
        }

        .code-content .line-number {
            display: inline-block;
            width: 30px;
            color: #6b7280;
            text-align: right;
            margin-right: 20px;
            user-select: none;
        }

        /* Syntax Highlighting */
        .keyword { color: #569cd6; }
        .type { color: #4ec9b0; }
        .string { color: #ce9178; }
        .number { color: #b5cea8; }
        .comment { color: #6a9955; font-style: italic; }
        .variable { color: #9cdcfe; }
        .method { color: #dcdcaa; }
        .class-name { color: #4ec9b0; }
        .bracket { color: #ffd700; }
        .operator { color: #d4d4d4; }

        /* Options */
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 20px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option:hover {
            border-color: var(--primary-color);
            background: #faf5ff;
        }

        .option.selected {
            border-color: var(--primary-color);
            background: #ede9fe;
        }

        .option.correct-answer {
            border-color: var(--success-color);
            background: #d1fae5;
        }

        .option.wrong-answer {
            border-color: var(--danger-color);
            background: #fee2e2;
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .option label {
            cursor: pointer;
            flex: 1;
            font-size: 1rem;
        }

        .option code {
            background: #e5e7eb;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
        }

        /* True/False Options */
        .tf-options {
            display: flex;
            gap: 20px;
        }

        .tf-option {
            flex: 1;
            padding: 20px;
            text-align: center;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .tf-option:hover {
            transform: translateY(-2px);
        }

        .tf-option.true:hover,
        .tf-option.true.selected {
            border-color: var(--success-color);
            background: #d1fae5;
            color: var(--success-color);
        }

        .tf-option.false:hover,
        .tf-option.false.selected {
            border-color: var(--danger-color);
            background: #fee2e2;
            color: var(--danger-color);
        }

        .tf-option.correct-answer {
            border-color: var(--success-color) !important;
            background: #d1fae5 !important;
            color: var(--success-color) !important;
        }

        .tf-option.wrong-answer {
            border-color: var(--danger-color) !important;
            background: #fee2e2 !important;
        }

        /* Fill in the blank */
        .fill-blank {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .fill-blank input {
            padding: 10px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Consolas', monospace;
            width: 100px;
            text-align: center;
            transition: border-color 0.2s;
        }

        .fill-blank input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .fill-blank input.correct {
            border-color: var(--success-color);
            background: #d1fae5;
        }

        .fill-blank input.incorrect {
            border-color: var(--danger-color);
            background: #fee2e2;
        }

        /* Feedback */
        .feedback {
            margin-top: 15px;
            padding: 15px 20px;
            border-radius: 10px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d1fae5;
            border-left: 4px solid var(--success-color);
            color: var(--success-color);
        }

        .feedback.incorrect {
            background: #fee2e2;
            border-left: 4px solid var(--danger-color);
            color: var(--danger-color);
        }

        .feedback-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        /* Check Button */
        .check-btn {
            margin-top: 15px;
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--primary-color), #5b21b6);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.4);
        }

        .check-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Visual Array */
        .visual-array {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .array-2d-display {
            display: inline-block;
        }

        .array-row {
            display: flex;
            gap: 0;
        }

        .array-cell {
            width: 50px;
            height: 45px;
            border: 2px solid var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background: linear-gradient(135deg, #ede9fe, #ddd6fe);
        }

        .array-cell.highlight {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-color: var(--warning-color);
        }

        .row-label {
            width: 60px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            color: var(--primary-color);
            font-weight: bold;
        }

        .col-labels {
            display: flex;
            margin-left: 60px;
        }

        .col-label {
            width: 50px;
            text-align: center;
            font-size: 0.85rem;
            color: var(--secondary-color);
            font-weight: bold;
            padding: 5px 0;
        }

        /* Results Section */
        .results-section {
            background: linear-gradient(135deg, #faf5ff, #ede9fe);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            text-align: center;
            display: none;
        }

        .results-section.show {
            display: block;
        }

        .results-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .results-score {
            font-size: 3rem;
            font-weight: bold;
            color: var(--success-color);
        }

        .results-message {
            font-size: 1.2rem;
            margin-top: 15px;
            color: var(--dark-color);
        }

        .results-breakdown {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .breakdown-item {
            padding: 15px 25px;
            border-radius: 10px;
        }

        .breakdown-item.correct {
            background: #d1fae5;
            color: var(--success-color);
        }

        .breakdown-item.incorrect {
            background: #fee2e2;
            color: var(--danger-color);
        }

        /* Submit All Button */
        .submit-all-btn {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 30px auto;
            padding: 20px 40px;
            background: linear-gradient(135deg, var(--success-color), #047857);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-all-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(5, 150, 105, 0.4);
        }

        /* Reset Button */
        .reset-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            background: var(--dark-color);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .reset-btn:hover {
            transform: translateY(-2px);
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: white;
            text-align: center;
            padding: 20px;
        }

        /* Section Divider */
        .section-divider {
            text-align: center;
            margin: 40px 0;
            position: relative;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: #e2e8f0;
        }

        .section-divider span {
            background: white;
            padding: 10px 30px;
            position: relative;
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        /* Visual Explanation */
        .visual-explanation {
            display: none;
            margin-top: 20px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
        }

        .visual-explanation.show {
            display: block;
        }

        .visual-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 15px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.6rem;
            }

            .content {
                padding: 20px;
            }

            .tf-options {
                flex-direction: column;
            }
        }

        /* Navigation */
        .nav-breadcrumb {
            background: linear-gradient(135deg, #1e3a5f, #2d5a87);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: #93c5fd;
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover {
            color: white;
        }

        .breadcrumb .separator {
            color: #64748b;
        }

        .breadcrumb .current {
            color: #fbbf24;
        }

        .lesson-nav {
            display: flex;
            gap: 10px;
        }

        .lesson-nav a {
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.85rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lesson-nav a:hover {
            background: rgba(255,255,255,0.2);
        }

        .lesson-nav a.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }

        /* Bottom Navigation */
        .bottom-nav {
            display: flex;
            justify-content: space-between;
            padding: 30px 40px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-top: 1px solid #e2e8f0;
        }

        .bottom-nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .bottom-nav a:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(37, 99, 235, 0.3);
        }

        .bottom-nav a.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }

        .bottom-nav .prev-lesson {
            background: linear-gradient(135deg, #64748b, #475569);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation Breadcrumb -->
        <nav class="nav-breadcrumb">
            <div class="breadcrumb">
                <a href="../index.html">CPCS203</a>
                <span class="separator">›</span>
                <a href="index.html">Module 1: Arrays</a>
                <span class="separator">›</span>
                <span class="current">2D/3D Exercises</span>
            </div>
            <div class="lesson-nav">
                <a href="04-ragged-arrays.html">‹ Previous</a>
                <a href="#" class="disabled">Module Complete</a>
            </div>
        </nav>

        <!-- Header -->
        <div class="header">
            <h1>2D & 3D Arrays Exercises</h1>
            <p class="subtitle">Test Your Understanding of Multi-Dimensional Arrays</p>
            <div class="score-display">
                Score: <span id="current-score">0</span> / <span id="total-score">15</span>
            </div>
        </div>

        <div class="content">
            <!-- Instructions -->
            <div class="instructions">
                <h3>Instructions</h3>
                <p>Answer all questions to test your understanding of 2D and 3D arrays. Remember: <strong>The computer only understands 1D arrays!</strong> A 2D array is an <strong>array of arrays</strong> - an array of references where each reference points to a 1D array.</p>
            </div>

            <!-- SECTION 1: 2D Array Basics -->
            <div class="section-divider">
                <span>Part 1: 2D Arrays (Array of Arrays)</span>
            </div>

            <!-- Question 1 -->
            <div class="question-card" id="q1">
                <div class="question-header">
                    <div class="question-number">1</div>
                    <span class="question-type">Multiple Choice</span>
                </div>
                <div class="question-text">
                    What does this declaration create? Think in terms of "array of arrays".
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">Declaration.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number">1</span><span class="keyword">int</span><span class="bracket">[][]</span> <span class="variable">matrix</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="keyword">int</span><span class="bracket">[</span><span class="number">3</span><span class="bracket">][</span><span class="number">4</span><span class="bracket">]</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(1, 'a')">
                        <input type="radio" name="q1" id="q1a">
                        <label for="q1a">An array of 4 references, each pointing to a 1D array of 3 integers</label>
                    </div>
                    <div class="option" onclick="selectOption(1, 'b')">
                        <input type="radio" name="q1" id="q1b">
                        <label for="q1b">An array of 3 references, each pointing to a 1D array of 4 integers</label>
                    </div>
                    <div class="option" onclick="selectOption(1, 'c')">
                        <input type="radio" name="q1" id="q1c">
                        <label for="q1c">A single 1D array with 12 elements</label>
                    </div>
                    <div class="option" onclick="selectOption(1, 'd')">
                        <input type="radio" name="q1" id="q1d">
                        <label for="q1d">A 3D array</label>
                    </div>
                </div>
                <input type="hidden" id="answer1" value="">
                <div class="feedback" id="feedback1">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <div class="visual-explanation" id="visual1">
                    <div class="visual-title">Understanding: Array of Arrays Structure</div>
                    <svg width="100%" height="200" viewBox="0 0 600 200">
                        <!-- Main reference array (vertical) -->
                        <text x="30" y="30" fill="#7c3aed" font-weight="bold" font-size="14">matrix</text>
                        <rect x="20" y="45" width="60" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="20" y="80" width="60" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="20" y="115" width="60" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <text x="50" y="68" text-anchor="middle" fill="#7c3aed" font-size="12">[0]</text>
                        <text x="50" y="103" text-anchor="middle" fill="#7c3aed" font-size="12">[1]</text>
                        <text x="50" y="138" text-anchor="middle" fill="#7c3aed" font-size="12">[2]</text>

                        <!-- Arrows -->
                        <line x1="80" y1="62" x2="140" y2="62" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead1)"/>
                        <line x1="80" y1="97" x2="140" y2="97" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead1)"/>
                        <line x1="80" y1="132" x2="140" y2="132" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead1)"/>

                        <!-- 1D arrays (horizontal) -->
                        <rect x="145" y="45" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="190" y="45" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="235" y="45" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="280" y="45" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="167" y="68" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="212" y="68" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="257" y="68" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="302" y="68" text-anchor="middle" fill="#059669" font-size="11">0</text>

                        <rect x="145" y="80" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="190" y="80" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="235" y="80" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="280" y="80" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="167" y="103" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="212" y="103" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="257" y="103" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="302" y="103" text-anchor="middle" fill="#059669" font-size="11">0</text>

                        <rect x="145" y="115" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="190" y="115" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="235" y="115" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="280" y="115" width="45" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="167" y="138" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="212" y="138" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="257" y="138" text-anchor="middle" fill="#059669" font-size="11">0</text>
                        <text x="302" y="138" text-anchor="middle" fill="#059669" font-size="11">0</text>

                        <!-- Labels -->
                        <text x="370" y="55" fill="#1f2937" font-size="13">← 4 elements</text>
                        <text x="370" y="75" fill="#1f2937" font-size="13">← 4 elements</text>
                        <text x="370" y="140" fill="#1f2937" font-size="13">← 4 elements</text>

                        <!-- Legend -->
                        <rect x="400" y="100" width="20" height="20" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <text x="425" y="115" fill="#1f2937" font-size="11">= Reference</text>
                        <rect x="400" y="125" width="20" height="20" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="425" y="140" fill="#1f2937" font-size="11">= Data (int)</text>

                        <text x="50" y="175" fill="#7c3aed" font-size="11">3 references</text>
                        <text x="200" y="175" fill="#059669" font-size="11">Each → 1D array of 4 integers</text>

                        <defs>
                            <marker id="arrowhead1" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#059669"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                <button class="check-btn" onclick="checkAnswer(1)">Check Answer</button>
            </div>

            <!-- Question 2 -->
            <div class="question-card" id="q2">
                <div class="question-header">
                    <div class="question-number">2</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    Given this 2D array, what is the value of <code>arr[1][2]</code>?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">Access2D.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number">1</span><span class="keyword">int</span><span class="bracket">[][]</span> <span class="variable">arr</span> <span class="operator">=</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number">2</span>    <span class="bracket">{</span><span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number">3</span>    <span class="bracket">{</span><span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number">4</span>    <span class="bracket">{</span><span class="number">90</span>, <span class="number">100</span>, <span class="number">110</span>, <span class="number">120</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number">5</span><span class="bracket">}</span>;</span></pre>
                    </div>
                </div>
                <div class="visual-array">
                    <div style="text-align: center; margin-bottom: 15px; color: #7c3aed; font-weight: bold;">Array of Arrays Structure</div>
                    <svg width="100%" height="180" viewBox="0 0 550 180">
                        <!-- Main reference array (vertical) -->
                        <text x="30" y="25" fill="#7c3aed" font-weight="bold" font-size="13">arr</text>
                        <rect x="20" y="35" width="50" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="20" y="70" width="50" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <rect x="20" y="105" width="50" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <text x="45" y="58" text-anchor="middle" fill="#7c3aed" font-size="11">[0]</text>
                        <text x="45" y="93" text-anchor="middle" fill="#d97706" font-size="11">[1]</text>
                        <text x="45" y="128" text-anchor="middle" fill="#7c3aed" font-size="11">[2]</text>

                        <!-- Arrows -->
                        <line x1="70" y1="52" x2="120" y2="52" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead2)"/>
                        <line x1="70" y1="87" x2="120" y2="87" stroke="#d97706" stroke-width="2" marker-end="url(#arrowhead2o)"/>
                        <line x1="70" y1="122" x2="120" y2="122" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead2)"/>

                        <!-- 1D arrays (horizontal) with index labels -->
                        <text x="140" y="25" fill="#6b7280" font-size="10">[0]</text>
                        <text x="180" y="25" fill="#6b7280" font-size="10">[1]</text>
                        <text x="220" y="25" fill="#d97706" font-size="10" font-weight="bold">[2]</text>
                        <text x="260" y="25" fill="#6b7280" font-size="10">[3]</text>

                        <rect x="125" y="35" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="165" y="35" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="205" y="35" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="245" y="35" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="145" y="58" text-anchor="middle" fill="#059669" font-size="12">10</text>
                        <text x="185" y="58" text-anchor="middle" fill="#059669" font-size="12">20</text>
                        <text x="225" y="58" text-anchor="middle" fill="#059669" font-size="12">30</text>
                        <text x="265" y="58" text-anchor="middle" fill="#059669" font-size="12">40</text>

                        <rect x="125" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <rect x="165" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <rect x="205" y="70" width="40" height="35" fill="#fcd34d" stroke="#d97706" stroke-width="3"/>
                        <rect x="245" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <text x="145" y="93" text-anchor="middle" fill="#92400e" font-size="12">50</text>
                        <text x="185" y="93" text-anchor="middle" fill="#92400e" font-size="12">60</text>
                        <text x="225" y="93" text-anchor="middle" fill="#92400e" font-size="14" font-weight="bold">70</text>
                        <text x="265" y="93" text-anchor="middle" fill="#92400e" font-size="12">80</text>

                        <rect x="125" y="105" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="165" y="105" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="205" y="105" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="245" y="105" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="145" y="128" text-anchor="middle" fill="#059669" font-size="12">90</text>
                        <text x="185" y="128" text-anchor="middle" fill="#059669" font-size="12">100</text>
                        <text x="225" y="128" text-anchor="middle" fill="#059669" font-size="12">110</text>
                        <text x="265" y="128" text-anchor="middle" fill="#059669" font-size="12">120</text>

                        <!-- Explanation -->
                        <text x="320" y="60" fill="#1f2937" font-size="12">arr[1] → gives the 1D array</text>
                        <text x="320" y="80" fill="#d97706" font-size="12" font-weight="bold">arr[1][2] → element at index 2</text>
                        <text x="320" y="100" fill="#d97706" font-size="14" font-weight="bold">= 70</text>

                        <text x="45" y="160" fill="#7c3aed" font-size="11">References</text>
                        <text x="180" y="160" fill="#059669" font-size="11">1D Arrays (actual data)</text>

                        <defs>
                            <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#059669"/>
                            </marker>
                            <marker id="arrowhead2o" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#d97706"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(2, 'a')">
                        <input type="radio" name="q2" id="q2a">
                        <label for="q2a"><code>60</code></label>
                    </div>
                    <div class="option" onclick="selectOption(2, 'b')">
                        <input type="radio" name="q2" id="q2b">
                        <label for="q2b"><code>70</code></label>
                    </div>
                    <div class="option" onclick="selectOption(2, 'c')">
                        <input type="radio" name="q2" id="q2c">
                        <label for="q2c"><code>30</code></label>
                    </div>
                    <div class="option" onclick="selectOption(2, 'd')">
                        <input type="radio" name="q2" id="q2d">
                        <label for="q2d"><code>110</code></label>
                    </div>
                </div>
                <input type="hidden" id="answer2" value="">
                <div class="feedback" id="feedback2">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(2)">Check Answer</button>
            </div>

            <!-- Question 3 -->
            <div class="question-card" id="q3">
                <div class="question-header">
                    <div class="question-number">3</div>
                    <span class="question-type">Fill in the Blank</span>
                </div>
                <div class="question-text">
                    Using the same array from Question 2, what is the value of <code>arr.length</code>?
                </div>
                <div class="fill-blank">
                    <span><code>arr.length</code> = </span>
                    <input type="text" id="fillAnswer3" placeholder="?">
                </div>
                <div class="feedback" id="feedback3">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(3)">Check Answer</button>
            </div>

            <!-- Question 4 -->
            <div class="question-card" id="q4">
                <div class="question-header">
                    <div class="question-number">4</div>
                    <span class="question-type">Fill in the Blank</span>
                </div>
                <div class="question-text">
                    Using the same array, what is the value of <code>arr[0].length</code>?
                </div>
                <div class="fill-blank">
                    <span><code>arr[0].length</code> = </span>
                    <input type="text" id="fillAnswer4" placeholder="?">
                </div>
                <div class="feedback" id="feedback4">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(4)">Check Answer</button>
            </div>

            <!-- Question 5 -->
            <div class="question-card" id="q5">
                <div class="question-header">
                    <div class="question-number">5</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    What is the output of this code?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">LastElement.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number">1</span><span class="keyword">int</span><span class="bracket">[][]</span> <span class="variable">arr</span> <span class="operator">=</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number">2</span>    <span class="bracket">{</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number">3</span>    <span class="bracket">{</span><span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number">4</span><span class="bracket">}</span>;</span>
<span class="line"><span class="line-number">5</span></span>
<span class="line"><span class="line-number">6</span><span class="keyword">int</span> <span class="variable">lastRow</span> <span class="operator">=</span> <span class="variable">arr</span>.<span class="variable">length</span> <span class="operator">-</span> <span class="number">1</span>;</span>
<span class="line"><span class="line-number">7</span><span class="keyword">int</span> <span class="variable">lastCol</span> <span class="operator">=</span> <span class="variable">arr</span><span class="bracket">[</span><span class="variable">lastRow</span><span class="bracket">]</span>.<span class="variable">length</span> <span class="operator">-</span> <span class="number">1</span>;</span>
<span class="line"><span class="line-number">8</span></span>
<span class="line"><span class="line-number">9</span><span class="class-name">System</span>.<span class="variable">out</span>.<span class="method">println</span><span class="bracket">(</span><span class="variable">arr</span><span class="bracket">[</span><span class="variable">lastRow</span><span class="bracket">][</span><span class="variable">lastCol</span><span class="bracket">]</span><span class="bracket">)</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(5, 'a')">
                        <input type="radio" name="q5" id="q5a">
                        <label for="q5a"><code>3</code></label>
                    </div>
                    <div class="option" onclick="selectOption(5, 'b')">
                        <input type="radio" name="q5" id="q5b">
                        <label for="q5b"><code>6</code></label>
                    </div>
                    <div class="option" onclick="selectOption(5, 'c')">
                        <input type="radio" name="q5" id="q5c">
                        <label for="q5c"><code>5</code></label>
                    </div>
                    <div class="option" onclick="selectOption(5, 'd')">
                        <input type="radio" name="q5" id="q5d">
                        <label for="q5d"><code>4</code></label>
                    </div>
                </div>
                <input type="hidden" id="answer5" value="">
                <div class="feedback" id="feedback5">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(5)">Check Answer</button>
            </div>

            <!-- SECTION 2: Ragged Arrays -->
            <div class="section-divider">
                <span>Part 2: Ragged Arrays (Proof of Array of Arrays!)</span>
            </div>

            <!-- Question 6 -->
            <div class="question-card" id="q6">
                <div class="question-header">
                    <div class="question-number">6</div>
                    <span class="question-type">True / False</span>
                </div>
                <div class="question-text">
                    In Java, all "rows" in a 2D array must have the same number of elements.
                </div>
                <div class="tf-options">
                    <div class="tf-option true" onclick="selectTF(6, 'true')">TRUE</div>
                    <div class="tf-option false" onclick="selectTF(6, 'false')">FALSE</div>
                </div>
                <input type="hidden" id="answer6" value="">
                <div class="feedback" id="feedback6">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <div class="visual-explanation" id="visual6">
                    <div class="visual-title">Why Ragged Arrays Are Possible: Each 1D Array is Independent!</div>
                    <svg width="100%" height="180" viewBox="0 0 550 180">
                        <!-- Main reference array (vertical) -->
                        <text x="30" y="25" fill="#7c3aed" font-weight="bold" font-size="13">ragged</text>
                        <rect x="20" y="35" width="50" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="20" y="70" width="50" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="20" y="105" width="50" height="35" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <text x="45" y="58" text-anchor="middle" fill="#7c3aed" font-size="11">[0]</text>
                        <text x="45" y="93" text-anchor="middle" fill="#7c3aed" font-size="11">[1]</text>
                        <text x="45" y="128" text-anchor="middle" fill="#7c3aed" font-size="11">[2]</text>

                        <!-- Arrows -->
                        <line x1="70" y1="52" x2="120" y2="52" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead6)"/>
                        <line x1="70" y1="87" x2="120" y2="87" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead6)"/>
                        <line x1="70" y1="122" x2="120" y2="122" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead6)"/>

                        <!-- 1D arrays of DIFFERENT sizes -->
                        <rect x="125" y="35" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <rect x="165" y="35" width="40" height="35" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
                        <text x="145" y="58" text-anchor="middle" fill="#059669" font-size="12">1</text>
                        <text x="185" y="58" text-anchor="middle" fill="#059669" font-size="12">2</text>
                        <text x="230" y="58" fill="#d97706" font-size="11" font-weight="bold">← 2 elements</text>

                        <rect x="125" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <rect x="165" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <rect x="205" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <rect x="245" y="70" width="40" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
                        <text x="145" y="93" text-anchor="middle" fill="#92400e" font-size="12">3</text>
                        <text x="185" y="93" text-anchor="middle" fill="#92400e" font-size="12">4</text>
                        <text x="225" y="93" text-anchor="middle" fill="#92400e" font-size="12">5</text>
                        <text x="265" y="93" text-anchor="middle" fill="#92400e" font-size="12">6</text>
                        <text x="310" y="93" fill="#d97706" font-size="11" font-weight="bold">← 4 elements</text>

                        <rect x="125" y="105" width="40" height="35" fill="#dbeafe" stroke="#2563eb" stroke-width="2"/>
                        <rect x="165" y="105" width="40" height="35" fill="#dbeafe" stroke="#2563eb" stroke-width="2"/>
                        <rect x="205" y="105" width="40" height="35" fill="#dbeafe" stroke="#2563eb" stroke-width="2"/>
                        <text x="145" y="128" text-anchor="middle" fill="#1e40af" font-size="12">7</text>
                        <text x="185" y="128" text-anchor="middle" fill="#1e40af" font-size="12">8</text>
                        <text x="225" y="128" text-anchor="middle" fill="#1e40af" font-size="12">9</text>
                        <text x="270" y="128" fill="#2563eb" font-size="11" font-weight="bold">← 3 elements</text>

                        <!-- Key insight -->
                        <rect x="350" y="50" width="180" height="80" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="8"/>
                        <text x="440" y="75" text-anchor="middle" fill="#92400e" font-size="12" font-weight="bold">Each reference points</text>
                        <text x="440" y="95" text-anchor="middle" fill="#92400e" font-size="12" font-weight="bold">to an INDEPENDENT</text>
                        <text x="440" y="115" text-anchor="middle" fill="#92400e" font-size="12" font-weight="bold">1D array!</text>

                        <text x="45" y="165" fill="#7c3aed" font-size="11">References</text>
                        <text x="180" y="165" fill="#059669" font-size="11">Different sized 1D arrays</text>

                        <defs>
                            <marker id="arrowhead6" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#059669"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                <button class="check-btn" onclick="checkAnswer(6)">Check Answer</button>
            </div>

            <!-- Question 7 -->
            <div class="question-card" id="q7">
                <div class="question-header">
                    <div class="question-number">7</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    What is the value of <code>ragged[2].length</code>?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">RaggedArray.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number">1</span><span class="keyword">int</span><span class="bracket">[][]</span> <span class="variable">ragged</span> <span class="operator">=</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number">2</span>    <span class="bracket">{</span><span class="number">1</span>, <span class="number">2</span><span class="bracket">}</span>,           <span class="comment">// Row 0: 2 elements</span></span>
<span class="line"><span class="line-number">3</span>    <span class="bracket">{</span><span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span><span class="bracket">}</span>,     <span class="comment">// Row 1: 4 elements</span></span>
<span class="line"><span class="line-number">4</span>    <span class="bracket">{</span><span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span><span class="bracket">}</span>         <span class="comment">// Row 2: 3 elements</span></span>
<span class="line"><span class="line-number">5</span><span class="bracket">}</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(7, 'a')">
                        <input type="radio" name="q7" id="q7a">
                        <label for="q7a"><code>2</code></label>
                    </div>
                    <div class="option" onclick="selectOption(7, 'b')">
                        <input type="radio" name="q7" id="q7b">
                        <label for="q7b"><code>3</code></label>
                    </div>
                    <div class="option" onclick="selectOption(7, 'c')">
                        <input type="radio" name="q7" id="q7c">
                        <label for="q7c"><code>4</code></label>
                    </div>
                    <div class="option" onclick="selectOption(7, 'd')">
                        <input type="radio" name="q7" id="q7d">
                        <label for="q7d"><code>9</code></label>
                    </div>
                </div>
                <input type="hidden" id="answer7" value="">
                <div class="feedback" id="feedback7">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(7)">Check Answer</button>
            </div>

            <!-- Question 8 -->
            <div class="question-card" id="q8">
                <div class="question-header">
                    <div class="question-number">8</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    Using the same ragged array, what is <code>ragged[1][3]</code>?
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(8, 'a')">
                        <input type="radio" name="q8" id="q8a">
                        <label for="q8a"><code>5</code></label>
                    </div>
                    <div class="option" onclick="selectOption(8, 'b')">
                        <input type="radio" name="q8" id="q8b">
                        <label for="q8b"><code>6</code></label>
                    </div>
                    <div class="option" onclick="selectOption(8, 'c')">
                        <input type="radio" name="q8" id="q8c">
                        <label for="q8c"><code>9</code></label>
                    </div>
                    <div class="option" onclick="selectOption(8, 'd')">
                        <input type="radio" name="q8" id="q8d">
                        <label for="q8d">ArrayIndexOutOfBoundsException</label>
                    </div>
                </div>
                <input type="hidden" id="answer8" value="">
                <div class="feedback" id="feedback8">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(8)">Check Answer</button>
            </div>

            <!-- SECTION 3: 3D Arrays -->
            <div class="section-divider">
                <span>Part 3: 3D Arrays (Array of 2D Arrays)</span>
            </div>

            <!-- Question 9 -->
            <div class="question-card" id="q9">
                <div class="question-header">
                    <div class="question-number">9</div>
                    <span class="question-type">Multiple Choice</span>
                </div>
                <div class="question-text">
                    What does this declaration create?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">ThreeDArray.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number">1</span><span class="keyword">int</span><span class="bracket">[][][]</span> <span class="variable">cube</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="keyword">int</span><span class="bracket">[</span><span class="number">2</span><span class="bracket">][</span><span class="number">3</span><span class="bracket">][</span><span class="number">4</span><span class="bracket">]</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(9, 'a')">
                        <input type="radio" name="q9" id="q9a">
                        <label for="q9a">2 layers, each with 3 rows and 4 columns (total: 24 elements)</label>
                    </div>
                    <div class="option" onclick="selectOption(9, 'b')">
                        <input type="radio" name="q9" id="q9b">
                        <label for="q9b">3 layers, each with 2 rows and 4 columns</label>
                    </div>
                    <div class="option" onclick="selectOption(9, 'c')">
                        <input type="radio" name="q9" id="q9c">
                        <label for="q9c">4 layers, each with 3 rows and 2 columns</label>
                    </div>
                    <div class="option" onclick="selectOption(9, 'd')">
                        <input type="radio" name="q9" id="q9d">
                        <label for="q9d">A 2D array with 3×4 elements</label>
                    </div>
                </div>
                <input type="hidden" id="answer9" value="">
                <div class="feedback" id="feedback9">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(9)">Check Answer</button>
            </div>

            <!-- Question 10 -->
            <div class="question-card" id="q10">
                <div class="question-header">
                    <div class="question-number">10</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    What is the value of <code>building[1][0][2]</code>?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">Building3D.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number"> 1</span><span class="keyword">int</span><span class="bracket">[][][]</span> <span class="variable">building</span> <span class="operator">=</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 2</span>    <span class="comment">// Layer 0</span></span>
<span class="line"><span class="line-number"> 3</span>    <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 4</span>        <span class="bracket">{</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number"> 5</span>        <span class="bracket">{</span><span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number"> 6</span>    <span class="bracket">}</span>,</span>
<span class="line"><span class="line-number"> 7</span>    <span class="comment">// Layer 1</span></span>
<span class="line"><span class="line-number"> 8</span>    <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 9</span>        <span class="bracket">{</span><span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number">10</span>        <span class="bracket">{</span><span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number">11</span>    <span class="bracket">}</span></span>
<span class="line"><span class="line-number">12</span><span class="bracket">}</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(10, 'a')">
                        <input type="radio" name="q10" id="q10a">
                        <label for="q10a"><code>3</code></label>
                    </div>
                    <div class="option" onclick="selectOption(10, 'b')">
                        <input type="radio" name="q10" id="q10b">
                        <label for="q10b"><code>6</code></label>
                    </div>
                    <div class="option" onclick="selectOption(10, 'c')">
                        <input type="radio" name="q10" id="q10c">
                        <label for="q10c"><code>9</code></label>
                    </div>
                    <div class="option" onclick="selectOption(10, 'd')">
                        <input type="radio" name="q10" id="q10d">
                        <label for="q10d"><code>12</code></label>
                    </div>
                </div>
                <input type="hidden" id="answer10" value="">
                <div class="feedback" id="feedback10">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(10)">Check Answer</button>
            </div>

            <!-- Question 11 -->
            <div class="question-card" id="q11">
                <div class="question-header">
                    <div class="question-number">11</div>
                    <span class="question-type">Fill in the Blank</span>
                </div>
                <div class="question-text">
                    Using the same building array, what is <code>building.length</code>?
                </div>
                <div class="fill-blank">
                    <span><code>building.length</code> = </span>
                    <input type="text" id="fillAnswer11" placeholder="?">
                </div>
                <div class="feedback" id="feedback11">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(11)">Check Answer</button>
            </div>

            <!-- Question 12 -->
            <div class="question-card" id="q12">
                <div class="question-header">
                    <div class="question-number">12</div>
                    <span class="question-type">Fill in the Blank</span>
                </div>
                <div class="question-text">
                    Using the same building array, what is <code>building[0][1].length</code>?
                </div>
                <div class="fill-blank">
                    <span><code>building[0][1].length</code> = </span>
                    <input type="text" id="fillAnswer12" placeholder="?">
                </div>
                <div class="feedback" id="feedback12">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(12)">Check Answer</button>
            </div>

            <!-- SECTION 4: Advanced Questions -->
            <div class="section-divider">
                <span>Part 4: Advanced Questions</span>
            </div>

            <!-- Question 13 -->
            <div class="question-card" id="q13">
                <div class="question-header">
                    <div class="question-number">13</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    What is the output of this code?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">SumDiagonal.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number"> 1</span><span class="keyword">int</span><span class="bracket">[][]</span> <span class="variable">matrix</span> <span class="operator">=</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 2</span>    <span class="bracket">{</span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number"> 3</span>    <span class="bracket">{</span><span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number"> 4</span>    <span class="bracket">{</span><span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number"> 5</span><span class="bracket">}</span>;</span>
<span class="line"><span class="line-number"> 6</span></span>
<span class="line"><span class="line-number"> 7</span><span class="keyword">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span>
<span class="line"><span class="line-number"> 8</span><span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">matrix</span>.<span class="variable">length</span>; <span class="variable">i</span><span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 9</span>    <span class="variable">sum</span> <span class="operator">+=</span> <span class="variable">matrix</span><span class="bracket">[</span><span class="variable">i</span><span class="bracket">][</span><span class="variable">i</span><span class="bracket">]</span>;</span>
<span class="line"><span class="line-number">10</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number">11</span></span>
<span class="line"><span class="line-number">12</span><span class="class-name">System</span>.<span class="variable">out</span>.<span class="method">println</span><span class="bracket">(</span><span class="variable">sum</span><span class="bracket">)</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(13, 'a')">
                        <input type="radio" name="q13" id="q13a">
                        <label for="q13a"><code>6</code></label>
                    </div>
                    <div class="option" onclick="selectOption(13, 'b')">
                        <input type="radio" name="q13" id="q13b">
                        <label for="q13b"><code>12</code></label>
                    </div>
                    <div class="option" onclick="selectOption(13, 'c')">
                        <input type="radio" name="q13" id="q13c">
                        <label for="q13c"><code>15</code></label>
                    </div>
                    <div class="option" onclick="selectOption(13, 'd')">
                        <input type="radio" name="q13" id="q13d">
                        <label for="q13d"><code>45</code></label>
                    </div>
                </div>
                <input type="hidden" id="answer13" value="">
                <div class="feedback" id="feedback13">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(13)">Check Answer</button>
            </div>

            <!-- Question 14 -->
            <div class="question-card" id="q14">
                <div class="question-header">
                    <div class="question-number">14</div>
                    <span class="question-type">Code Tracing</span>
                </div>
                <div class="question-text">
                    What is the output of this code?
                </div>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dot red"></div>
                        <div class="code-dot yellow"></div>
                        <div class="code-dot green"></div>
                        <span class="code-title">CountElements.java</span>
                    </div>
                    <div class="code-content">
<pre><span class="line"><span class="line-number"> 1</span><span class="keyword">int</span><span class="bracket">[][]</span> <span class="variable">ragged</span> <span class="operator">=</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 2</span>    <span class="bracket">{</span><span class="number">1</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number"> 3</span>    <span class="bracket">{</span><span class="number">2</span>, <span class="number">3</span><span class="bracket">}</span>,</span>
<span class="line"><span class="line-number"> 4</span>    <span class="bracket">{</span><span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number"> 5</span><span class="bracket">}</span>;</span>
<span class="line"><span class="line-number"> 6</span></span>
<span class="line"><span class="line-number"> 7</span><span class="keyword">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span>
<span class="line"><span class="line-number"> 8</span><span class="keyword">for</span> <span class="bracket">(</span><span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">ragged</span>.<span class="variable">length</span>; <span class="variable">i</span><span class="operator">++</span><span class="bracket">)</span> <span class="bracket">{</span></span>
<span class="line"><span class="line-number"> 9</span>    <span class="variable">count</span> <span class="operator">+=</span> <span class="variable">ragged</span><span class="bracket">[</span><span class="variable">i</span><span class="bracket">]</span>.<span class="variable">length</span>;</span>
<span class="line"><span class="line-number">10</span><span class="bracket">}</span></span>
<span class="line"><span class="line-number">11</span></span>
<span class="line"><span class="line-number">12</span><span class="class-name">System</span>.<span class="variable">out</span>.<span class="method">println</span><span class="bracket">(</span><span class="variable">count</span><span class="bracket">)</span>;</span></pre>
                    </div>
                </div>
                <div class="options">
                    <div class="option" onclick="selectOption(14, 'a')">
                        <input type="radio" name="q14" id="q14a">
                        <label for="q14a"><code>3</code></label>
                    </div>
                    <div class="option" onclick="selectOption(14, 'b')">
                        <input type="radio" name="q14" id="q14b">
                        <label for="q14b"><code>6</code></label>
                    </div>
                    <div class="option" onclick="selectOption(14, 'c')">
                        <input type="radio" name="q14" id="q14c">
                        <label for="q14c"><code>9</code></label>
                    </div>
                    <div class="option" onclick="selectOption(14, 'd')">
                        <input type="radio" name="q14" id="q14d">
                        <label for="q14d"><code>21</code></label>
                    </div>
                </div>
                <input type="hidden" id="answer14" value="">
                <div class="feedback" id="feedback14">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <button class="check-btn" onclick="checkAnswer(14)">Check Answer</button>
            </div>

            <!-- Question 15 -->
            <div class="question-card" id="q15">
                <div class="question-header">
                    <div class="question-number">15</div>
                    <span class="question-type">True / False</span>
                </div>
                <div class="question-text">
                    A 2D array in Java is stored as a single contiguous block of memory (all elements next to each other).
                </div>
                <div class="tf-options">
                    <div class="tf-option true" onclick="selectTF(15, 'true')">TRUE</div>
                    <div class="tf-option false" onclick="selectTF(15, 'false')">FALSE</div>
                </div>
                <input type="hidden" id="answer15" value="">
                <div class="feedback" id="feedback15">
                    <div class="feedback-title"></div>
                    <div class="feedback-text"></div>
                </div>
                <div class="visual-explanation" id="visual15">
                    <div class="visual-title">Memory Layout: Why 2D Arrays Are NOT Contiguous</div>
                    <svg width="100%" height="280" viewBox="0 0 600 280">
                        <!-- Stack Section -->
                        <rect x="20" y="30" width="150" height="100" fill="#fee2e2" stroke="#dc2626" stroke-width="2" rx="10"/>
                        <text x="95" y="25" text-anchor="middle" fill="#dc2626" font-weight="bold" font-size="14">STACK</text>
                        <text x="30" y="55" fill="#1f2937" font-size="12">arr</text>
                        <rect x="60" y="40" width="100" height="30" fill="#fecaca" stroke="#dc2626" stroke-width="2"/>
                        <text x="110" y="60" text-anchor="middle" fill="#dc2626" font-size="11">0x1000</text>

                        <!-- Arrow from stack to heap -->
                        <line x1="160" y1="55" x2="200" y2="55" stroke="#7c3aed" stroke-width="2" stroke-dasharray="5,3"/>
                        <line x1="200" y1="55" x2="200" y2="80" stroke="#7c3aed" stroke-width="2" stroke-dasharray="5,3"/>
                        <line x1="200" y1="80" x2="230" y2="80" stroke="#7c3aed" stroke-width="2" marker-end="url(#arrowhead15)"/>

                        <!-- Heap Section -->
                        <rect x="220" y="30" width="360" height="230" fill="#d1fae5" stroke="#059669" stroke-width="2" rx="10"/>
                        <text x="400" y="25" text-anchor="middle" fill="#059669" font-weight="bold" font-size="14">HEAP (Objects stored at different locations)</text>

                        <!-- Reference array -->
                        <text x="240" y="60" fill="#7c3aed" font-size="11">0x1000 (Reference Array)</text>
                        <rect x="240" y="65" width="60" height="25" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="240" y="90" width="60" height="25" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <rect x="240" y="115" width="60" height="25" fill="#ede9fe" stroke="#7c3aed" stroke-width="2"/>
                        <text x="270" y="82" text-anchor="middle" fill="#7c3aed" font-size="10">0x2000</text>
                        <text x="270" y="107" text-anchor="middle" fill="#7c3aed" font-size="10">0x3500</text>
                        <text x="270" y="132" text-anchor="middle" fill="#7c3aed" font-size="10">0x4200</text>

                        <!-- Arrows to 1D arrays -->
                        <line x1="300" y1="77" x2="370" y2="77" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead15)"/>
                        <line x1="300" y1="102" x2="350" y2="140" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead15)"/>
                        <line x1="300" y1="127" x2="370" y2="195" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead15)"/>

                        <!-- 1D Array 1 -->
                        <text x="375" y="60" fill="#059669" font-size="10">0x2000</text>
                        <rect x="375" y="65" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <rect x="410" y="65" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <rect x="445" y="65" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <text x="392" y="82" text-anchor="middle" fill="#065f46" font-size="10">1</text>
                        <text x="427" y="82" text-anchor="middle" fill="#065f46" font-size="10">2</text>
                        <text x="462" y="82" text-anchor="middle" fill="#065f46" font-size="10">3</text>

                        <!-- 1D Array 2 (at different location!) -->
                        <text x="360" y="130" fill="#059669" font-size="10">0x3500 (different location!)</text>
                        <rect x="360" y="135" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <rect x="395" y="135" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <rect x="430" y="135" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <text x="377" y="152" text-anchor="middle" fill="#065f46" font-size="10">4</text>
                        <text x="412" y="152" text-anchor="middle" fill="#065f46" font-size="10">5</text>
                        <text x="447" y="152" text-anchor="middle" fill="#065f46" font-size="10">6</text>

                        <!-- 1D Array 3 (at yet another location!) -->
                        <text x="375" y="185" fill="#059669" font-size="10">0x4200 (yet another location!)</text>
                        <rect x="375" y="190" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <rect x="410" y="190" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <rect x="445" y="190" width="35" height="25" fill="#a7f3d0" stroke="#059669" stroke-width="2"/>
                        <text x="392" y="207" text-anchor="middle" fill="#065f46" font-size="10">7</text>
                        <text x="427" y="207" text-anchor="middle" fill="#065f46" font-size="10">8</text>
                        <text x="462" y="207" text-anchor="middle" fill="#065f46" font-size="10">9</text>

                        <!-- Key insight -->
                        <rect x="240" y="230" width="320" height="25" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="5"/>
                        <text x="400" y="247" text-anchor="middle" fill="#92400e" font-size="11" font-weight="bold">Each 1D array is a SEPARATE object at a DIFFERENT memory location!</text>

                        <defs>
                            <marker id="arrowhead15" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#059669"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                <button class="check-btn" onclick="checkAnswer(15)">Check Answer</button>
            </div>

            <!-- Submit All Button -->
            <button class="submit-all-btn" onclick="submitAll()">Submit All Answers</button>

            <!-- Results Section -->
            <div class="results-section" id="results">
                <div class="results-title">Your Results</div>
                <div class="results-score" id="final-score">0%</div>
                <div class="results-message" id="results-message"></div>
                <div class="results-breakdown">
                    <div class="breakdown-item correct">
                        <strong id="correct-count">0</strong> Correct
                    </div>
                    <div class="breakdown-item incorrect">
                        <strong id="incorrect-count">0</strong> Incorrect
                    </div>
                </div>
            </div>

            <button class="reset-btn" onclick="resetQuiz()">Reset Quiz</button>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="04-ragged-arrays.html" class="prev-lesson">‹ Previous: Ragged Arrays</a>
            <a href="index.html">Back to Module 1 ›</a>
        </nav>

        <!-- Footer -->
        <div class="footer">
            <p><strong>CPCS203</strong> - Object-Oriented Programming</p>
            <p>Module 1: 2D & 3D Array Exercises</p>
        </div>
    </div>

    <script>
        // Correct answers
        const answers = {
            1: { correct: 'b', explanation: 'Correct! new int[3][4] creates an array of 3 references, where each reference points to a 1D array containing 4 integers. Remember: the computer only understands 1D arrays - a 2D array is an array of arrays!', hasVisual: true },
            2: { correct: 'b', explanation: 'Correct! arr[1] gives us the 1D array at index 1 (which is {50, 60, 70, 80}). Then [2] gives us the element at index 2 of that 1D array, which is 70.' },
            3: { correct: '3', explanation: 'Correct! arr.length returns 3 because arr is an array of 3 references. Each reference points to a separate 1D array.' },
            4: { correct: '4', explanation: 'Correct! arr[0] returns the first 1D array {10, 20, 30, 40}. The .length of this 1D array is 4.' },
            5: { correct: 'b', explanation: 'Correct! lastRow = 2-1 = 1, lastCol = 3-1 = 2. arr[1][2] = 6 (the last element of the last 1D array).' },
            6: { correct: 'false', explanation: 'Correct! Because a 2D array is an "array of arrays", each 1D array can have a different length. The reference array just stores pointers to independent 1D arrays - they don\'t have to be the same size!', hasVisual: true },
            7: { correct: 'b', explanation: 'Correct! ragged[2] gives us the 1D array {7, 8, 9}, which has 3 elements. So ragged[2].length = 3.' },
            8: { correct: 'b', explanation: 'Correct! ragged[1] gives us the 1D array {3, 4, 5, 6}. Index [3] gives us element at position 3, which is 6.' },
            9: { correct: 'a', explanation: 'Correct! A 3D array is an "array of 2D arrays". new int[2][3][4] creates 2 references to 2D arrays, where each 2D array has 3 references to 1D arrays of 4 elements. Total = 2 × 3 × 4 = 24.' },
            10: { correct: 'c', explanation: 'Correct! building[1] gives the 2D array (Layer 1). building[1][0] gives the 1D array {7,8,9}. building[1][0][2] gives element at index 2 = 9.' },
            11: { correct: '2', explanation: 'Correct! building.length returns 2 because building is an array of 2 references (each pointing to a 2D array).' },
            12: { correct: '3', explanation: 'Correct! building[0][1] gives us the 1D array {4, 5, 6}. Its .length is 3.' },
            13: { correct: 'c', explanation: 'Correct! The loop adds matrix[i][i] for i=0,1,2. This gets: matrix[0][0]=1, matrix[1][1]=5, matrix[2][2]=9. Sum = 1+5+9 = 15.' },
            14: { correct: 'b', explanation: 'Correct! The loop adds the length of each 1D array: 1 + 2 + 3 = 6 total elements.' },
            15: { correct: 'false', explanation: 'Correct! A 2D array in Java is NOT contiguous. It\'s an array of references, where each reference points to a separate 1D array stored somewhere else in memory. This is why Java can have ragged arrays!', hasVisual: true }
        };

        // Fill-in-the-blank questions
        const fillQuestions = [3, 4, 11, 12];

        let score = 0;
        let answered = {};

        // Select option for multiple choice
        function selectOption(qNum, option) {
            if (answered[qNum]) return;

            document.querySelectorAll(`#q${qNum} .option`).forEach(opt => {
                opt.classList.remove('selected');
            });

            event.currentTarget.classList.add('selected');
            document.getElementById(`answer${qNum}`).value = option;
        }

        // Select True/False
        function selectTF(qNum, value) {
            if (answered[qNum]) return;

            document.querySelectorAll(`#q${qNum} .tf-option`).forEach(opt => {
                opt.classList.remove('selected');
            });

            event.currentTarget.classList.add('selected');
            document.getElementById(`answer${qNum}`).value = value;
        }

        // Check individual answer
        function checkAnswer(qNum) {
            if (answered[qNum]) return;

            let userAnswer;
            if (fillQuestions.includes(qNum)) {
                userAnswer = document.getElementById(`fillAnswer${qNum}`).value.trim();
            } else {
                userAnswer = document.getElementById(`answer${qNum}`).value;
            }

            if (!userAnswer) {
                alert('Please provide an answer first!');
                return;
            }

            answered[qNum] = true;
            const correct = answers[qNum].correct;
            const isCorrect = userAnswer.toLowerCase() === correct.toLowerCase();

            const card = document.getElementById(`q${qNum}`);
            const feedback = document.getElementById(`feedback${qNum}`);
            const feedbackTitle = feedback.querySelector('.feedback-title');
            const feedbackText = feedback.querySelector('.feedback-text');

            if (isCorrect) {
                card.classList.add('correct');
                feedback.classList.add('correct', 'show');
                feedbackTitle.textContent = '✓ Correct!';
                score++;
            } else {
                card.classList.add('incorrect');
                feedback.classList.add('incorrect', 'show');
                feedbackTitle.textContent = '✗ Incorrect';
            }

            feedbackText.textContent = answers[qNum].explanation;

            // Handle fill-in-the-blank
            if (fillQuestions.includes(qNum)) {
                const input = document.getElementById(`fillAnswer${qNum}`);
                input.classList.add(isCorrect ? 'correct' : 'incorrect');
                input.disabled = true;
            } else if ([6, 15].includes(qNum)) {
                // True/False
                document.querySelectorAll(`#q${qNum} .tf-option`).forEach(opt => {
                    if (opt.classList.contains(correct)) {
                        opt.classList.add('correct-answer');
                    } else if (opt.classList.contains('selected') && !isCorrect) {
                        opt.classList.add('wrong-answer');
                    }
                });
            } else {
                // Multiple choice
                document.querySelectorAll(`#q${qNum} .option`).forEach((opt, idx) => {
                    const optLetter = String.fromCharCode(97 + idx);
                    if (optLetter === correct) {
                        opt.classList.add('correct-answer');
                    } else if (opt.classList.contains('selected') && !isCorrect) {
                        opt.classList.add('wrong-answer');
                    }
                });
            }

            // Show visual explanation if exists
            const visual = document.getElementById(`visual${qNum}`);
            if (visual) {
                visual.classList.add('show');
            }

            card.querySelector('.check-btn').disabled = true;
            document.getElementById('current-score').textContent = score;
        }

        // Submit all
        function submitAll() {
            for (let i = 1; i <= 15; i++) {
                if (!answered[i]) {
                    checkAnswer(i);
                }
            }

            const resultsSection = document.getElementById('results');
            const percentage = Math.round((score / 15) * 100);

            document.getElementById('final-score').textContent = percentage + '%';
            document.getElementById('correct-count').textContent = score;
            document.getElementById('incorrect-count').textContent = 15 - score;

            let message = '';
            if (percentage >= 90) {
                message = 'Excellent! You have mastered 2D and 3D arrays!';
            } else if (percentage >= 70) {
                message = 'Good job! Review the questions you missed to strengthen your understanding.';
            } else if (percentage >= 50) {
                message = 'Keep practicing! Focus on array indexing and dimensions.';
            } else {
                message = 'Please review the lecture material on multi-dimensional arrays and try again.';
            }

            document.getElementById('results-message').textContent = message;
            resultsSection.classList.add('show');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Reset
        function resetQuiz() {
            score = 0;
            answered = {};

            document.querySelectorAll('.question-card').forEach(card => {
                card.classList.remove('correct', 'incorrect');
            });

            document.querySelectorAll('.option, .tf-option').forEach(opt => {
                opt.classList.remove('selected', 'correct-answer', 'wrong-answer');
            });

            for (let i = 1; i <= 15; i++) {
                const answerInput = document.getElementById(`answer${i}`);
                if (answerInput) answerInput.value = '';
            }

            fillQuestions.forEach(qNum => {
                const input = document.getElementById(`fillAnswer${qNum}`);
                if (input) {
                    input.value = '';
                    input.disabled = false;
                    input.classList.remove('correct', 'incorrect');
                }
            });

            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });

            document.querySelectorAll('.feedback').forEach(fb => {
                fb.classList.remove('show', 'correct', 'incorrect');
            });

            document.querySelectorAll('.visual-explanation').forEach(ve => {
                ve.classList.remove('show');
            });

            document.querySelectorAll('.check-btn').forEach(btn => {
                btn.disabled = false;
            });

            document.getElementById('results').classList.remove('show');
            document.getElementById('current-score').textContent = '0';

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
